<header class="flex justify-between mb-5">
    <div class="font-bold text-2xl ">
        Project list
    </div>
    <button pButton class="p-button-success"  icon="pi pi-plus" (click)="showAddWindow()"></button>
</header>
<p-table [value]="projects" [tableStyle]="{'min-width': '50rem'}">
    <ng-template pTemplate="header">
        <tr>
            <th>Project name</th>
            <th>Link location</th>
            <th>ShortDescription</th>
            <th>ImageLink</th>
            <th></th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-project>
        <tr>
            <td>{{project.name}}</td>
            <td>{{project.shortDescription}}</td>
            <td>{{project.linkLocation}}</td>
            <td>
                <button (click)="showImage(project)">show image</button>
            </td>
            <td>
                <div class="flex justify-start">   
                    <button
                        class="mr-3"
                        pButton [loading]="isLoading" (click)="showAddWindow(true, project.id)" icon="pi pi-user-edit">
                        
                    </button>
                    <button 
                        class="p-button-danger mr-3"
                        pButton [loading]="isLoading" (click)="deleteClick(project.id)" icon="pi pi-trash">
                    </button>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>
<p-dialog header="{{(isEdit ? 'Save' : 'Add') + ' project'}}" [modal]="true" [(visible)]="showDialog" [style]="{width: '30rem'}" >
    
    <app-add-edit-project 
        #addEditProject
        class="flex flex-col w-full overflow-hidden "
        style="height:20%"
        [isEdit] = "isEdit"
        [(isDialogOpen)]="showDialog" [project]="projectEdited"  (projectChange)="updateAll()"></app-add-edit-project>
</p-dialog>
<p-dialog [modal]="true" [(visible)]="showImageDialog" [style]="{width: '90%', height: '90%'}" >
    <div 
        id="quick-image" 
        class="bg-red-500 h-full w-full"
        [style.background-image]="'url(' + getURL(imageDialogSource) + ')'"></div>    
</p-dialog>